(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21d634"],{d0a3:function(t,e,c){"use strict";c.r(e);var n=c("7a23"),o={class:"py-5 container d-flex flex-column justify-content-between"},a={class:"d-flex justify-content-between align-items-center mb-3"},s={class:"d-flex align-items-center"},l=Object(n["h"])("h2",{class:"me-4"},"優惠卷",-1),u=Object(n["h"])("i",{class:"fas fa-plus me-2 text-secondary"},null,-1),i=Object(n["g"])("新增優惠 "),d=Object(n["h"])("i",{class:"fas fa-sign-out-alt h2"},null,-1),h={class:"table table-borderless table-hover"},b=Object(n["h"])("thead",null,[Object(n["h"])("tr",{class:"h4 border-bottom"},[Object(n["h"])("th",{scope:"col"},[Object(n["g"])("優惠標題"),Object(n["h"])("i",{class:"fas fa-arrow-down text-primary ml-2"})]),Object(n["h"])("th",{scope:"col"},"折扣％"),Object(n["h"])("th",{scope:"col"},"到期日"),Object(n["h"])("th",{scope:"col"},"code"),Object(n["h"])("th",{scope:"col"},"啟用"),Object(n["h"])("th",{scope:"col"},"刪除"),Object(n["h"])("th",{scope:"col"},"修改")])],-1),r={key:0},p=Object(n["h"])("i",{class:"far fa-check-square text-success h3"},null,-1),j={key:1},O=Object(n["h"])("i",{class:"far fa-times-circle h3 text-warning"},null,-1),f=Object(n["h"])("i",{class:"fas fa-trash-alt"},null,-1),g=Object(n["h"])("i",{class:"fas fa-pen"},null,-1);function k(t,e,c,k,m,v){var y=Object(n["A"])("Checkdele"),C=Object(n["A"])("Addedit"),w=Object(n["A"])("Pagination");return Object(n["v"])(),Object(n["d"])("section",o,[Object(n["h"])("div",null,[Object(n["h"])("div",a,[Object(n["h"])("div",s,[l,Object(n["h"])("button",{type:"button",class:"ms-5 btn btn-outline-dark",onClick:e[1]||(e[1]=function(t){return v.openModal(!0)})},[u,i])]),Object(n["h"])("a",{href:"#",class:"text-dark",onClick:e[2]||(e[2]=function(){return v.logOut&&v.logOut.apply(v,arguments)})},[d])]),Object(n["h"])("table",h,[b,Object(n["h"])("tbody",null,[(Object(n["v"])(!0),Object(n["d"])(n["a"],null,Object(n["z"])(m.coupons,(function(t){return Object(n["v"])(),Object(n["d"])("tr",{class:"h4",key:t.id},[Object(n["h"])("td",null,Object(n["D"])(t.title),1),Object(n["h"])("td",null,Object(n["D"])(t.percent),1),Object(n["h"])("td",null,Object(n["D"])(t.due_date),1),Object(n["h"])("td",null,Object(n["D"])(t.code),1),t.is_enabled?(Object(n["v"])(),Object(n["d"])("td",r,[p])):(Object(n["v"])(),Object(n["d"])("td",j,[O])),Object(n["h"])("td",null,[Object(n["h"])("button",{type:"button",class:"btn btn-outline-danger btn-sm",onClick:function(e){return v.checkDelete(t)}},[f],8,["onClick"])]),Object(n["h"])("td",null,[Object(n["h"])("button",{type:"button",class:"btn btn-outline-secondary btn-sm",onClick:function(e){return v.openModal(!1,t)}},[g],8,["onClick"])])])})),128))])])]),Object(n["h"])(y,{product:m.coupon,onDeleteProduct:v.deleteCoupon,loading:m.loadingStatus,ref:"check"},null,8,["product","onDeleteProduct","loading"]),Object(n["h"])(C,{product:m.coupon,ref:"addedit",onRender:v.getCoupons},null,8,["product","onRender"]),Object(n["h"])(w,{class:"d-flex justify-content-center",page:m.pagination,onGet_product:v.getCoupons},null,8,["page","onGet_product"])])}var m=c("5530"),v=(c("99af"),c("1799")),y=c("1ae3"),C=c("1a7d"),w={data:function(){return{loadingStatus:"",coupons:[],coupon:{},pagination:{},isNew:!1}},components:{Pagination:v["a"],Checkdele:y["a"],Addedit:C["a"]},methods:{logOut:function(){document.cookie="hexToken=;expires=;",this.$router.push("/")},getCoupons:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,c="".concat("https://vue3-course-api.hexschool.io","/api/").concat("jimnycourse","/admin/coupons?page=").concat(e);this.$http.get(c).then((function(e){e.data.success?(t.coupons=e.data.coupons,t.pagination=e.data.pagination):alert(e)})).catch((function(t){console.log(t)}))},openModal:function(t,e){this.isNew=t,this.isNew?this.coupon={}:this.coupon=Object(m["a"])({},e),this.$refs.addedit.openModal()},checkDelete:function(t){this.coupon=t,this.$refs.check.openModal()},deleteCoupon:function(t){var e=this;this.loadingStatus=t;var c="".concat("https://vue3-course-api.hexschool.io","/api/").concat("jimnycourse","/admin/coupon/").concat(t);this.$http.delete(c).then((function(t){t.data.success?(e.getCoupons(),e.loadingStatus="",e.$refs.check.hideModal()):alert(t)})).catch((function(t){console.log(t)}))}},mounted:function(){this.getCoupons()}};w.render=k;e["default"]=w}}]);
//# sourceMappingURL=chunk-2d21d634.35eb4a57.js.map