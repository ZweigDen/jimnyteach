{"version":3,"sources":["webpack:///./src/views/admin/Products.vue","webpack:///./src/views/admin/Products.vue?1746"],"names":["class","scope","type","openModal","href","logOut","products","item","key","id","category","title","price","is_enabled","checkDelete","product","deleteProduct","loading","loadingStatus","ref","getProducts","page","pagination","data","isNew","components","Pagination","Checkdele","Addedit","methods","document","cookie","this","$router","push","url","$http","get","then","res","success","$refs","addedit","check","delete","hideModal","created","render"],"mappings":"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","file":"js/chunk-2d21df6b.ffd51841.js","sourcesContent":["<template>\n  <section class=\"py-5 container d-flex flex-column justify-content-between\">\n    <div>\n      <!-- 右邊上方banner -->\n      <div class=\"d-flex justify-content-between align-items-center mb-3\">\n        <div class=\"d-flex align-items-center\">\n          <h2 class=\"me-4\">課程列表</h2>\n          <button type=\"button\" class=\"ms-5 btn btn-outline-dark\" @click=\"openModal(true)\">\n            <i class=\"fas fa-plus me-2 text-secondary\"></i>新增課程\n          </button>\n        </div>\n        <a href=\"#\" class=\"text-dark\" @click=\"logOut\"><i class=\"fas fa-sign-out-alt h2\"></i></a>\n      </div>\n      <!-- 下方內容 -->\n      <table class=\"table table-borderless table-hover\">\n        <thead>\n          <tr class=\"h4 border-bottom\">\n            <th scope=\"col\">分類<i class=\"fas fa-arrow-down text-primary ml-2\"></i></th>\n            <th scope=\"col\">課程標題</th>\n            <th scope=\"col\">價格</th>\n            <th scope=\"col\">啟用</th>\n            <th scope=\"col\">刪除</th>\n            <th scope=\"col\">修改</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr class=\"h4\" v-for=\"item in products\" :key=\"item.id\">\n            <td>{{ item.category }}</td>\n            <td>{{ item.title }}</td>\n            <td>{{ item.price }}</td>\n            <td v-if=\"item.is_enabled\"><i class=\"far fa-check-square text-success h3\"></i></td>\n            <td v-else><i class=\"far fa-times-circle h3 text-warning\"></i></td>\n            <td>\n              <button\n                type=\"button\"\n                class=\"btn btn-outline-danger btn-sm\"\n                @click=\"checkDelete(item)\"\n              >\n                <i class=\"fas fa-trash-alt\"></i>\n              </button>\n            </td>\n            <td>\n              <button\n                type=\"button\"\n                class=\"btn btn-outline-secondary btn-sm\"\n                @click=\"openModal(false, item)\"\n              >\n                <i class=\"fas fa-pen\"></i>\n              </button>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n    <!-- delete modal -->\n    <Checkdele\n      :product=\"product\"\n      @delete-product=\"deleteProduct\"\n      :loading=\"loadingStatus\"\n      ref=\"check\"\n    ></Checkdele>\n    <!-- add&edit nodal -->\n    <Addedit\n      :product=\"product\"\n      ref=\"addedit\"\n      @render=\"getProducts\"\n    ></Addedit>\n    <!-- 分頁模組 -->\n    <Pagination\n      class=\"d-flex justify-content-center\"\n      :page=\"pagination\"\n      @get_product=\"getProducts\"\n    ></Pagination>\n  </section>\n</template>\n\n<script>\nimport Pagination from '@/components/Pagination.vue';\nimport Checkdele from '@/components/CheckDele.vue';\nimport Addedit from '@/components/AddEditModal.vue';\n\nexport default {\n  data() {\n    return {\n      loadingStatus: '',\n      products: [],\n      product: {},\n      pagination: {},\n      isNew: false,\n    };\n  },\n  components: {\n    Pagination,\n    Checkdele,\n    Addedit,\n  },\n  methods: {\n    // 登出\n    logOut() {\n      document.cookie = 'hexToken=;expires=;';\n      this.$router.push('/');\n    },\n    // 取得資料\n    getProducts(page = 1) {\n      const url = `${process.env.VUE_APP_URL}/api/${process.env.VUE_APP_PATH}/admin/products?page=${page}`;\n      this.$http.get(url).then((res) => {\n        if (res.data.success) {\n          this.products = res.data.products;\n          this.pagination = res.data.pagination;\n        }\n      });\n    },\n    // open add&edit Modal\n    openModal(isNew, item) {\n      this.isNew = isNew;\n      if (this.isNew) {\n        this.product = {\n          // imagesUrl: [],\n        };\n      } else {\n        this.product = { ...item };\n      }\n      this.$refs.addedit.openModal();\n    },\n    // check刪除\n    checkDelete(item) {\n      this.product = item;\n      this.$refs.check.openModal();\n    },\n    // 刪除單項課程\n    deleteProduct(id) {\n      this.loadingStatus = id;\n      const url = `${process.env.VUE_APP_URL}/api/${process.env.VUE_APP_PATH}/admin/product/${id}`;\n      this.$http.delete(url).then((res) => {\n        if (res.data.success) {\n          this.getProducts();\n          this.loadingStatus = '';\n          this.$refs.check.hideModal();\n        }\n      });\n    },\n  },\n  created() {\n    this.getProducts();\n  },\n};\n</script>\n","import { render } from \"./Products.vue?vue&type=template&id=2f4c76de\"\nimport script from \"./Products.vue?vue&type=script&lang=js\"\nexport * from \"./Products.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}